# ==============================================
# Flat Burger - Environment Variables
# ==============================================
# Copy this file to .env and fill in your values
# For Vercel: Add these in Project Settings > Environment Variables

# ==============================================
# SUPABASE (Required for storing coupon data)
# ==============================================
# Get these from: https://supabase.com/dashboard > Your Project > Settings > API

# Project URL
NEXT_PUBLIC_SUPABASE_URL=https://your-project-id.supabase.co
VITE_SUPABASE_URL=https://your-project-id.supabase.co

# Service Role Key (IMPORTANT: Use service_role, NOT anon key!)
# This bypasses RLS and allows server-side inserts
SUPABASE_SERVICE_ROLE_KEY=your-service-role-key-here

# Anon Key (for client-side reads only)
VITE_SUPABASE_ANON_KEY=your-anon-key-here

# ==============================================
# GMAIL SMTP (Required for sending emails)
# ==============================================
# NO DOMAIN NEEDED! Just a Gmail account.
#
# SETUP INSTRUCTIONS:
# 1. Go to https://myaccount.google.com/security
# 2. Enable "2-Step Verification" if not already enabled
# 3. Go to https://myaccount.google.com/apppasswords
# 4. Select "Mail" and "Other (Custom name)" -> enter "Flat Burger"
# 5. Click "Generate" and copy the 16-character password
# 6. Use that password below (spaces don't matter)

GMAIL_USER=your-email@gmail.com
GMAIL_APP_PASSWORD=xxxx xxxx xxxx xxxx

# ==============================================
# SUPABASE TABLE SETUP
# ==============================================
# Run this SQL in Supabase SQL Editor:
#
# CREATE TABLE coupons (
#   id UUID DEFAULT gen_random_uuid() PRIMARY KEY,
#   email TEXT NOT NULL,
#   phone TEXT NOT NULL,
#   coupon_code TEXT UNIQUE NOT NULL,
#   created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),
#   used BOOLEAN DEFAULT FALSE,
#   used_at TIMESTAMP WITH TIME ZONE,
#   expires_at TIMESTAMP WITH TIME ZONE DEFAULT (NOW() + INTERVAL '30 days'),
#   email_sent BOOLEAN DEFAULT FALSE
# );
#
# -- If table already exists, add email_sent column:
# ALTER TABLE coupons ADD COLUMN IF NOT EXISTS email_sent BOOLEAN DEFAULT FALSE;
#
# CREATE INDEX idx_coupon_code ON coupons(coupon_code);
# CREATE INDEX idx_email ON coupons(email);
#
# -- Disable RLS for testing (enable in production with proper policies)
# ALTER TABLE coupons DISABLE ROW LEVEL SECURITY;
