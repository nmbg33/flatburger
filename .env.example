# ==============================================
# Flat Burger - Environment Variables
# ==============================================
# Copy this file to .env and fill in your values
# For Vercel: Add these in Project Settings > Environment Variables

# ==============================================
# SUPABASE (Required for storing coupon data)
# ==============================================
# Get these from: https://supabase.com/dashboard > Your Project > Settings > API

# Project URL
NEXT_PUBLIC_SUPABASE_URL=https://your-project-id.supabase.co
VITE_SUPABASE_URL=https://your-project-id.supabase.co

# Service Role Key (IMPORTANT: Use service_role, NOT anon key!)
# This bypasses RLS and allows server-side inserts
SUPABASE_SERVICE_ROLE_KEY=your-service-role-key-here

# Anon Key (for client-side reads only)
VITE_SUPABASE_ANON_KEY=your-anon-key-here

# ==============================================
# RESEND (Required for sending emails)
# ==============================================
# Get this from: https://resend.com/api-keys

RESEND_API_KEY=re_xxxxxxxxxxxxxxxxxxxx

# ==============================================
# SUPABASE TABLE SETUP
# ==============================================
# Run this SQL in Supabase SQL Editor:
#
# CREATE TABLE coupons (
#   id UUID DEFAULT gen_random_uuid() PRIMARY KEY,
#   email TEXT NOT NULL,
#   phone TEXT NOT NULL,
#   coupon_code TEXT UNIQUE NOT NULL,
#   created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),
#   used BOOLEAN DEFAULT FALSE,
#   used_at TIMESTAMP WITH TIME ZONE,
#   expires_at TIMESTAMP WITH TIME ZONE DEFAULT (NOW() + INTERVAL '30 days')
# );
#
# CREATE INDEX idx_coupon_code ON coupons(coupon_code);
# CREATE INDEX idx_email ON coupons(email);
#
# -- Disable RLS for testing (enable in production with proper policies)
# ALTER TABLE coupons DISABLE ROW LEVEL SECURITY;
#
# ==============================================
# RESEND DOMAIN SETUP (Required for production)
# ==============================================
# To send emails to any address (not just your own):
# 1. Go to https://resend.com/domains
# 2. Add your domain (e.g., flatburger.rs)
# 3. Add the DNS records Resend provides
# 4. Wait for verification
# 5. Update the "from" address in api/send-coupon.ts
